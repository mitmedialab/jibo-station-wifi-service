<!doctype html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JiboStationSetup</title>
  <link rel="stylesheet" type="text/css" href="style.css" />
  <link rel="shortcut icon" href="favicon.ico" />
  <link rel="icon" href="favicon.ico" />
</head>
<body class="noserver nostatus">

<div id="sectionholder">
<section id="wifi_section">
  <h2 style="font-size:64px">üì∂
    <span style="font-size:58px">Jibo Station Setup</span>
  </h2>

  <br>
  <center>
    <div id="connection" style="font-size:22px;font-weight:700;color:white;margin-bottom:20px">
      <div>
	<div id="line1">‚ûñ</div>
	<div id="line2">&nbsp;</div>
      </div>
    </div>

    <TEMPLATE id="wifi_connection_none">
      <div>
	<div id="line1" style="color:lightgray">Station needs to be connected to WiFi</div>
	<div id="line2">&nbsp;</div>
      </div>
    </TEMPLATE>
    <TEMPLATE id="wifi_connection_blank">
      <div>
	<div id="line1">&nbsp;</div>
	<div id="line2">&nbsp;</div>
      </div>
    </TEMPLATE>
    <TEMPLATE id="wifi_connection_good">
      <div>
	<div id="line1" style="position:relative">
	  <font color="gray">connected to </font><span id="wifi_ssid">unknown</span>
	  &nbsp;<span style="position:absolute"><div id="wifi_bars"></div></span>
	</div>
	<div id="line2">&nbsp;</div>
      </div>
    </TEMPLATE>
    <TEMPLATE id="wifi_connection_error">
      <div>
	<div id="line1" style="color:red">Could not connect to <span id="wifi_ssid">unknown</span></div>
	<div id="line2" style="color:red"></div>
      </div>
    </TEMPLATE>

  </center>

  <!-- <div id="notconnected" style="display:inline-grid;place-items:start"> -->
  <div id="notconnected" style="flex-wrap:wrap;justify-content:center">
    <div style="position:relative;top:-12px;flex:0 1 500px">
	<div style="text-align:left;margin-bottom:12px">
	  <font color="lightgray">Visible networks &nbsp;<font color="gray">tap to select</font></font>
	</div>
	<div>
	  <div style="width:100%;height:50vh;text-align:left;overflow-y:scroll">
	    <ul width=300 id="network_list" style="width:450px;list-style:none;font-size:20px;font-weight:900;margin-left:2px;margin-top:4px;white-space:nowrap">
	      <li><i>looking for networks...</i></li>
	    </ul>

	    <TEMPLATE id="network_list_entry">
	      <li class="network_list_entry" style="background-color:#2B4C56">
		<div style="position:relative;pointer-events:none">
		  <span id="wifi_security" style="position:relative;display:inline-block;top:-2px;width:18px;font-size:18px;opacity:0.6;margin:0 4px 0 8px;pointer-events:none"></span>
		  <div style="display:inline-block;position:relative;height:20px;width:24px;top:1px;pointer-events:none"><div id="wifi_bars" style="pointer-events:none"></div></div>
		  <span id="wifi_ssid" style="pointer-events:none"></span>
		</div>
	      </li>
	    </TEMPLATE>

	  </div>
	</div>
    </div>

    <div style="display:inline-block;width:600px;position:relative">
      <center>
      <form width="100%" id="connect_wifi_form" enctype="multipart/form-data" method="post" style="font-size:20px;line-height:26px;padding-bottom:16px">
	<table width="400" style="display:grid;place-items:center;background-color:#1B3C45">
	  <tr><td style="height:50px"></td></tr>
	  <tr>
	    <td></td>
	    <td>
	      <div style="font-size:20px;font-weight:900">
		<label for="ssid">Network Name</label><br>
		<input id="ssid" autocorrect="off" autocapitalize="none" type="text" name="ssid" size="18" style="font-size:24px;margin-top:5px;" required></input>
	      </div>
	    </td>
	    <td style="width:25px"></td>
	    <td rowspan="4" style="padding-top:112px">
	      <span style="display: inline-block; border-radius: 4px; background: #1f8b5f; border-bottom: 2px solid #1f8b5f;">
		<button id="connect" class="normal">
		Connect WiFi
		</button>
	      </span>
	    </td>
	  </tr>
	  <tr><td style="height:30px"></td></tr>
	  <tr>
	    <td style="width:45px">
	      <button id="visibility" type="button" class="eyes" onclick="window.client.toggle_password_visibility(event)">üëÅÔ∏è</button>
	    </td>
	    <td style="font-size:20px;font-weight:900">
	      <div style="font-size:20px;font-weight:900">
		<label for="password">WiFi Password<div style="color:gray;font-size:11px;margin-top:-8px;margin-left:2px"><i>leave blank if no password</i></div></label>
		<input id="password" autocorrect="off" autocapitalize="none" autocomplete="off" type="text" name="password" size="18" style="font-size:24px"></input>
	      </div>
	    </td>
	  </tr>
	</table>
      </form>
      <h1><font color="lightgray"><br>If you are having trouble connecting<br>
	  <span class="contactinfo_2line">please contact us</span></font></h1>
      </center>
      </div>
    </div>
  </div>

  <div id="connected">
    <center>
      <br>
      <div>
	<div style="height:18px">
	  <div id="checking">
	    <center>
	      <h1><font color="lightgray">Checking connection...</font></h1>
	    </center>
	  </div>
	</div>
	<div style="width:300px;height:70px;display:inline-block;text-align:center;padding-top:6px">
	  <div id="stage-1-pending">
	    <font size="72px">‚ûñ </font>
	    <br>
	    <br>
	    <h2>Internet</h2>
	  </div>
	  <div id="stage-1-good">
	    <font size="72px">‚úÖ </font>
	    <br>
	    <br>
	    <h2>Internet connected</h2>
	  </div>
	  <div id="stage-1-bad">
	    <font size="72px">‚ùì </font>
	    <br>
	    <br>
	    <h2>Internet not connected</h2>
	  </div>
	</div>

	<div style="width:300px;height:70px;display:inline-block;text-align:center;padding-top:30px">
	  <div id="stage-2-pending">
	    <font size="72px">‚ûñ </font>
	    <br>
	    <br>
	    <h2>Jibo</h2>
	  </div>
	  <div id="stage-2-good">
	    <font size="72px">‚úÖ </font>
	    <br>
	    <br>
	    <h2>Jibo connected</h2>
	  </div>
	  <div id="stage-2-bad" onclick="window.client.popup_problem_panel()">
	    <font size="72px">‚ùì </font>
	    <br>
	    <br>
	    <h2>Jibo not connected</h2>
	  </div>
	</div>

	<div style="width:300px;height:70px;display:inline-block;text-align:center;padding-top:60px">
	  <div id="stage-3-pending">
	    <font size="72px">‚ûñ </font>
	    <br>
	    <br>
	    <h2>Station Status</h2>
	  </div>
	  <div id="stage-3-good">
	    <font size="72px">‚úÖ </font>
	    <br>
	    <br>
	    <h2>All Systems Go!</h2>
	  </div>
	  <div id="stage-3-bad" onclick="window.client.popup_problem_panel()">
	    <font size="72px">‚ùì </font>
	    <br>
	    <br>
	    <h2>There is a problem</h2>
	  </div>
	</div>
	<br>
	<div id="contactus">
	  <center>
	    <h1><font color="lightgray"><br>There might be an issue with your station<br>
		<span class="contactinfo">Please contact us</span></font></h1>
		<br>
	  </center>
	</div>

	<TEMPLATE id="contactinfo_wellness">
		Please contact us at<br>
		jibo-wellness@media.mit.edu &nbsp; or &nbsp; 617-921-6515
	</TEMPLATE>
	<TEMPLATE id="contactinfo_2line_wellness">
		please contact us at<br>
		jibo-wellness@media.mit.edu<br>or &nbsp; 617-921-6515
	</TEMPLATE>

      </div>

      <button onclick="window.client.disconnect_wifi()" class="normal discourage" style="position:absolute;right:62px;top:130px">
	Disconnect<br>WiFi
      </button>
      <button id="setupagain" class="normal" onclick="window.client.disconnect_wifi()">
	Try Setup Again
      </button>
      <br>
      <br>
      <br>
      <button id="done" class="normal" onclick="window.client.finished()">
	Done
      </button>
    </center>
  </div>

  <div id="connecting">
    <div style="display:inline-block;width:600px;position:relative;top:-50px">
      <center>
	<br>
	<br>
	<br>
	<h1><span id="feedback"></span></h1>
	<br>
	<br>
	<br>
	<br>
	<button class="normal" onclick="window.client.cancel_connecting()">
	  Cancel
	</button>
      </center>
    </div>
  </div>

  <div id="disconnecting">
    <div style="display:inline-block;width:600px;position:relative;top:-50px">
      <center>
	<br>
	<br>
	<br>
	<h1>Disconnecting...</h1>
      </center>
    </div>
  </div>


  <div id="infobutton">
    <div id="clickinfo">
      <span style="font-size:42px;color:darkgray">‚ìò</span>
    </div>
  </div>

  <div id="infopanel">
    <div id="dismiss">
      <img src="cross.png" height="35" width="35">
    </div>
    <button onclick="window.client.reboot()" class="normal discourage" style="position:absolute;right:84px;top:160px">
      Reboot<br>Station
    </button>

    <br>
    <br>
    <br>
    <br>
    <br>
    <br>

    <center>
    <table style="width:700px;font-size:24px">
      <tr>
	<td style="width:200px;text-align:right">Uptime</td><td style="width:50px">&nbsp;</td><td style="width:400px"><div id="local_uptime">‚ûñ</div></td>
      </tr>
      <tr style="height:15px"><td></td></tr>

      <tr>
	<td style="width:200px;text-align:right">Hostname</td><td style="width:50px">&nbsp;</td><td style="width:400px"><div id="local_hostname">‚ûñ</div></td>
      </tr>
      <tr style="height:15px"><td></td></tr>

      <tr>
	<td style="text-align:right">Local IP address</td><td>&nbsp;</td><td><div id="local_ip_address">‚ûñ</div></td>
      </tr>
      <tr style="height:15px"><td></td></tr>

      <tr>
	<td style="text-align:right">Rover IP address</td><td>&nbsp;</td><td><div id="rover_ip_address">‚ûñ</div></td>
      </tr>
      <tr>
      <tr style="height:15px"><td></td></tr>

      <tr>
	<td style="text-align:right">WiFi SSID</td><td>&nbsp;</td><td><div id="info_wifi_ssid">‚ûñ</div></td>
      </tr>
      <tr style="height:15px"><td></td></tr>

      <tr>
	<td style="text-align:right">WiFi RSSI</td><td>&nbsp;</td><td><div id="info_wifi_rssi">‚ûñ</div></td>
      </tr>
      <tr style="height:15px"><td></td></tr>

      <tr>
	<td style="text-align:right">Trim spaces</td><td>&nbsp;</td><td><input id="trim_spaces" type="checkbox" checked style="width:27px;height:27px"></input></td>
      </tr>
      <tr style="height:15px"><td></td></tr>

      <tr>
	<td style="text-align:right">Tolorate Ambiguity</td><td>&nbsp;</td><td><input id="expert_mode" type="checkbox" style="width:27px;height:27px"></input></td>
      </tr>
      <tr style="height:15px"><td></td></tr>

      <tr>
	<td style="text-align:right">DHCP Leases</td><td>&nbsp;</td><td><div id="dhcp_leases">‚ûñ</div></td>
      </tr>
    </table>

    <TEMPLATE name="dhcp_leases">
      <table class="dhcp_leases">
	<tr>
	  <td id="lease_time"></td><td id="mac_address"></td><td id="ip_address"></td><td id="dhcp_name"></td>
	</tr>
      </table>
    </TEMPLATE>

    </center>
  </div>

  <div id="turnjiboonpanel">
    <div id="dismiss">
      <img src="cross.png" height="35" width="35">
    </div>
    <center>
      <br>
      <br>
      <br>
      <br>
      <h1>Please turn on the Jibo Robot</h1><br>
      <br>
      <img src="jibopower.png" width="128" height="128">
      <h1><font color="lightgray"><span id="powerinstructions"><br>Please press the power button on the back of Jibo's head<br></span></font></h1>
      <br>
      <h1><font color="lightgray"><br>If you are having trouble<br>
	  <span class="contactinfo">please contact us</span></font></h1>
    </center>
  </div>

  <div id="restartstationpanel">
    <div id="dismiss">
      <img src="cross.png" height="35" width="35">
    </div>
    <center>
      <br>
      <br>
      <br>
      <br>
      <h1>Please restart your Jibo Station</h1><br>
      <br>
      <button onclick="window.client.reboot()" class="normal">
	Restart Station
      </button>
      <br>
      <br>
      <h1><font color="lightgray"><span id="powerinstructions"><br>You Jibo station has a problem and needs to be restarted<br>
      Please press the <font color="white">Restart Station</font> button above<br></span></font></h1>
      <br>
      <h1><font color="lightgray"><br>If you are having trouble<br>
	  <span class="contactinfo">please contact us</span></font></h1>
    </center>
  </div>

  <div id="donepanel">
    <div id="dismiss">
      <img src="cross.png" height="35" width="35">
    </div>
    <center>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <h1>Your Jibo Station is setup!</h1><br>
      <br>
      <h1><font color="lightgray"><span id="homeinstructions">Press the Home button on the tablet<br>to go back to the home screen</span></font></h1>
    </center>
  </div>

  
  <div id="noserverpanel">
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <h1>Looking for Jibo Station...</h1>
    <br>
    <br>
    <center>
      <h1><font color="lightgray"><br>Your station is still powering up<br><br>If this message is still here after 5 minutes<br>there might be an issue with your station<br>
	  <span class="contactinfo">Please contact us</span></font></h1>
      <br>
    </center>
    </div>
  </div>


  <div id="rebootingpanel">
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <h1>Rebooting Jibo Station...</h1>
    <br>
    <br>
<!--
    <div id="contactus0">
    </div>
-->
  </div>
  

</section>
</div>

  <script src="client.js"></script>
  <script>
    window.client.init();
  </script>
</body>
</html>
