{"version":3,"sources":["client.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["window","client","status_request","Request","scan_request","signal_request","STATUS_INTERVAL","SCAN_INTERVAL","SIGNAL_INTERVAL","current_ssid","current_rssi","connection_error","connection_timeout","setTimeoutAnimationFrame","callback","interval","setTimeout","requestAnimationFrame","monitorStatus","response","fetch","data","json","retry","Object","keys","length","showStatus","err","console","error","last_status","status","connectiondiv","document","querySelector","state","wpa_state","wifi_connected","log","body","classList","contains","remove","ssid_input","password_input","value","undefined","add","clearTimeout","connect_attempts","jibo_connected","internet_connected","server_connected","html","ssid","replace","rssiToBars","innerHTML","monitorScan","showScan","networks_ul","seen","n","network","includes","startsWith","push","signal","security","ssid_changed","rssi","bigger","quanta","classes","monitorSignal","showSignal","toggle_body_class","classname","reset_scroll","selector","section","scrollIntoView","connect_wifi","event","target","preventDefault","formdata","FormData","get","password","feedbackdiv","feedback","textContent","trim_space","checked","trim","method","JSON","stringify","headers","cancel_connecting","disconnect_wifi","request","toggle_password_visibility","toggle","type","visibility","ssid_value","li_entries","querySelectorAll","li_entry","clickssid","password_focused","connect_button","click_network","network_li","parentElement","focus","show_nomatch_panel","show_info_panel","local_ip_address","ip_address","rover_ip_address","dismiss_all_panels","init","wifi_form","addEventListener","clickinfo","dismiss_buttons","dismiss_button","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","parse","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","message","stack","overlay","createErrorOverlay","appendChild","getElementById","createElement","stackTrace","innerText","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"client.62456f60.js","sourceRoot":"../client","sourcesContent":["'use strict';\n\nwindow.client = window.client || {};\n\nconst status_request = new Request('/status');\nconst scan_request = new Request('/scan');\nconst signal_request = new Request('/signal');\n\n\nconst STATUS_INTERVAL = 1 * 1000;  // 1 second\nconst SCAN_INTERVAL = 5 * 1000;  // 5 seconds\nconst SIGNAL_INTERVAL = 1 * 1000;  // 1 second\n\nlet current_ssid;\nlet current_rssi;\nlet connection_error;\nlet connection_timeout;\n\n\n// setTimeout but then wait for the first full frame after that\n// (so we can check isVisible without triggering any reflows)\nfunction setTimeoutAnimationFrame(callback, interval) {\n    setTimeout(() => window.requestAnimationFrame(callback), interval);\n}\n\n\nasync function monitorStatus() {\n    try {\n        let response = await fetch(status_request);\n        let data = await response.json();\n\tif (data && !data.retry && Object.keys(data).length !== 0) {\n\t    showStatus(data);\n\t}\n    } catch(err) {\n        console.error(err);\n    }\n    setTimeoutAnimationFrame(monitorStatus, STATUS_INTERVAL);\n}\n\nlet last_status;\nfunction showStatus(status) {\n    let connectiondiv = document.querySelector('#connection');\n    let state = status.wpa_state;\n    let wifi_connected = (state === 'COMPLETED');\n    last_status = status;\n\n    console.log('wifi_connected', wifi_connected);\n\n    if (wifi_connected && document.body.classList.contains('connecting')) {\n\tdocument.body.classList.remove('connecting');\n\tlet ssid_input = document.querySelector('#ssid');\n\tlet password_input = document.querySelector('#password');\n\tssid_input.value = '';\n\tpassword_input.value = '';\n\tconnection_error = undefined;\n    }\n\n    if (wifi_connected) {\n\tif (!(document.body.classList.contains('wifi-connected'))) {\n\t    document.body.classList.add('wifi-connected');\n\t    document.body.classList.add('checking');\n\n\t    if (connection_timeout) {\n\t\tclearTimeout(connection_timeout);\n\t    }\n\t    connection_timeout = setTimeout( () => {\n\t\tconnection_timeout = undefined;\n\t\tdocument.body.classList.remove('checking');\n\t\tif (wifi_connected && !(document.body.classList.contains('server-connected'))) {\n\t\t    document.body.classList.add('contactus');\n\t\t    document.body.classList.add('contactus2');\n\t\t} else {\n\t\t    document.body.classList.remove('contactus');\n\t\t    document.body.classList.remove('contactus2');\n\t\t    connect_attempts = 0;\n\t\t}\n\t    }, 15 * 1000);\n\t}\n    } else {\n\tdocument.body.classList.remove('wifi-connected');\n\tdocument.body.classList.remove('contactus');\n\tdocument.body.classList.remove('checking');\n    }\n\n    document.body.classList.remove('jibo-connected');\n    document.body.classList.remove('jibo-not-connected');\n    if ('jibo_connected' in status && status.jibo_connected !== undefined) {\n\tif (status.jibo_connected) {\n\t    document.body.classList.add('jibo-connected');\n\t} else {\n\t    document.body.classList.add('jibo-not-connected');\n\t}\n    }\n\n    document.body.classList.remove('internet-connected');\n    document.body.classList.remove('internet-not-connected');\n    if ('internet_connected' in status && status.internet_connected !== undefined) {\n\tif (status.internet_connected) {\n\t    document.body.classList.add('internet-connected');\n\t} else {\n\t    document.body.classList.add('internet-not-connected');\n\t}\n    }\n\n    document.body.classList.remove('server-connected');\n    document.body.classList.remove('server-not-connected');\n    if ('server_connected' in status && status.server_connected !== undefined) {\n\tif (status.server_connected) {\n\t    document.body.classList.add('server-connected');\n\t} else {\n\t    document.body.classList.add('server-not-connected');\n\t}\n    }\n\n    let html;\n    if (connection_error) {\n\thtml = '<font color=\"red\">' + connection_error + '</font>';  // FIXME not html safe if ssid name is in connection_error\n    } else {\n\thtml = '<font color=\"lightgray\">Station needs to be connected to WiFi</font>';\n    }\n    console.log(status);\n    current_ssid = undefined;\n    if (state) {\n\tlet ssid = status.ssid && status.ssid.replace(/\\n$/, '');  // remove newline at end of string\n\tif (wifi_connected) {\n\t    connection_error = undefined;\n\t    html = '<div style=\"position:relative\" data-ssid=\"' + (ssid || '') + '\"><font color=\"gray\">connected to </font>' + (ssid || 'unknown') + '&nbsp;&nbsp;';\n\t    current_ssid = ssid;\n\t    if (current_rssi) {\n\t\thtml += '<span style=\"position:absolute\">' + rssiToBars(current_rssi, true) + '</span>';\n\t    }\n\t    html += '</div>';\n\t} else {\n\t    console.log('state =', state);\n\t}\n    }\n    connectiondiv.innerHTML = html;\n}\n\n\nasync function monitorScan() {\n    try {\n        let response = await fetch(scan_request);\n        let json = await response.json();\n\tconsole.log(json);\n\tif (json && !json.retry && Object.keys(json).length !== 0) {\n\t    showScan(json);\n\t}\n    } catch(err) {\n        console.error(err);\n    }\n    setTimeoutAnimationFrame(monitorScan, SCAN_INTERVAL);\n}\n\n\nfunction showScan(json) {\n    let networks_ul = document.querySelector('#networks');\n    let html = '';\n    let seen = [];\n    current_rssi = undefined;\n    try {\n\tfor (let n=0; n<json.length; n++) {\n\t    let network = json[n];\n\t    let ssid = network.ssid;\n\t    if (!ssid || ssid.includes('\\x00') || ssid.includes('\\\\x00')) {\n\t\tcontinue;\n\t    }\n\t    if (ssid.startsWith('s02-') || ssid.startsWith('JiboStation')) {\n\t\tcontinue;\n\t    }\n\t    if (seen.includes(ssid)) {\n\t\tcontinue;\n\t    }\n\t    seen.push(ssid);\n\t    html += '<li onclick=\"window.client.click_network(event)\">'\n\t\t+ '<div style=\"position:relative\">'\n\t\t+ '<div style=\"position:absolute;color:#AAAAAA;top:1px;left:-34px\">' + rssiToBars(network.signal) + '</div>'\n\t\t+ '<div style=\"position:absolute;color:#AAAAAA;left:-62px;font-size:14px;opacity:0.6\">' + (network.security ? '🔒' : '') + '</div>'\n\t\t+ '<span class=\"clickssid\">' + ssid + '</span></li>\\n';  // FIXME unsafe!\n\t    if (ssid === current_ssid) {\n\t\tcurrent_rssi = network.signal;\n\t    }\n\t}\n    } catch(err) {\n\tconsole.error(err);\n    }\n    networks_ul.innerHTML = html;\n    ssid_changed();\n    //let scandiv = document.querySelector('#scandiv');\n    //scandiv.innerHTML = JSON.stringify(json);\n}\n\n\nfunction rssiToBars(rssi, bigger) {\n    let quanta = 0;\n    if (rssi > -40) {\n\tquanta = 3;\n    } else if (rssi > -65) {\n\tquanta = 2;\n    } else if (rssi > -80) {\n\tquanta = 1;\n    }\n    let classes = `bars-${quanta}`;\n    if (bigger) {\n\tclasses += ' bars-bigger';\n    }\n    return `<div class=\"${classes}\" style=\"display:inline-block\"></div>`;\n}\n\n\nasync function monitorSignal() {\n    try {\n        let response = await fetch(signal_request);\n        let data = await response.json();\n\tif (data && !data.retry && Object.keys(data).length !== 0) {\n\t    showSignal(data);\n\t}\n    } catch(err) {\n        console.error(err);\n    }\n    setTimeoutAnimationFrame(monitorSignal, SIGNAL_INTERVAL);\n}\n\n\nfunction showSignal(data) {\n    console.log('signal', data);\n    //let signaldiv = document.querySelector('#signaldiv');\n    //signaldiv.innerHTML = JSON.stringify(data);\n}\n\n\nfunction toggle_body_class(classname) {\n    if (document.body.classList.contains(classname)) {\n\tdocument.body.classList.remove(classname);\n    } else {\n\tdocument.body.classList.add(classname);\n    }\n}\n\n\nfunction reset_scroll(selector) {\n    let section = document.querySelector(selector);\n    if (section) {\n\t//section.scrollTop = 0;\n\tsection.scrollIntoView();\n\t//section.focus();\n    }\n}\n\n\nlet connect_attempts = 0;\nasync function connect_wifi(event) {\n    console.log(event);\n    console.log(event.target);\n    event.preventDefault();\n\n    let formdata = new FormData(event.target);\n    let ssid = formdata.get('ssid');\n    let password = formdata.get('password');\n    let feedbackdiv = document.querySelector('#feedback');\n\n    document.body.classList.add('connecting');\n    connect_attempts++;\n    if (connect_attempts > 2) {\n\tdocument.body.classList.add('contactus2');\n    }\n\n    try {\n\treset_scroll('#wifi_section');\n\n\tconsole.log(formdata);\n\tconsole.log(formdata.get('ssid'));\n\tconsole.log(formdata.get('password'));\n\n\tfeedback.textContent = \"Connecting to \" + ssid + \"...\";\n\tconnection_error = undefined;\n\n\tlet trim_space = document.querySelector('#trim_spaces');\n\tif (!trim_space || trim_space.checked) {\n\t    console.log('trimming spaces');\n\t    ssid = ssid.trim();\n\t    password = password.trim();\n\t}\n\n\t//await fetch(new Request('/connect',{method:'POST',body:formdata}))\n\n\tlet data = {\n\t    ssid,\n\t    password,\n\t};\n\n\tawait fetch('/connect', {\n\t    method: 'POST',\n\t    body: JSON.stringify(data),\n\t    headers: {\n\t\t'Content-Type': 'application/json'\n\t    }\n\t});\n    } catch(err) {\n\tconsole.error('error during connect', err);\n    }\n    connection_timeout = setTimeout( () => {\n\tconnection_timeout = undefined;\n\tif (document.body.classList.contains('connecting')) {\n\t    connection_error = `Could not connect to ${ssid} password might be incorrect`;\n\t    document.body.classList.remove('connecting');\n\t}\n    }, 10 * 1000);\n}\n\n\nfunction cancel_connecting() {\n    if (connection_timeout) {\n\tclearTimeout(connection_timeout);\n\tconnection_timeout = undefined;\n\tdocument.body.classList.remove('connecting');\n    }\n}\n\n\nasync function disconnect_wifi() {\n    document.body.classList.add('disconnecting');\n    document.body.classList.remove('contactus');\n    try {\n\treset_scroll('#wifi_section');\n\tlet request = new Request('/disconnect',{ method:'POST' });\n\tfetch(request);\n\treset_scroll('#wifi_section');\n    } catch(err) {\n\tconsole.error('error during disconnect', err);\n    }\n    setTimeout( () => {\n\tdocument.body.classList.remove('disconnecting');\n    }, 5 * 1000);\n}\n\n\nfunction toggle_password_visibility(event) {\n    let password = document.querySelector('#password');\n    let toggle = document.querySelector('#visibility');\n    if (password.type !== 'password') {\n\tpassword.type = 'password';\n\tvisibility.innerHTML = '😆';\n    } else {\n\tpassword.type = 'text';\n\tvisibility.innerHTML = '👁️';\n    }\t\n    event.preventDefault();  // keep from stealing keyboard focus\n}\n\n\nfunction ssid_changed(event) {\n    console.log('ssid changed');\n    let ssid_input = document.querySelector('#ssid');\n    let trim_space = document.querySelector('#trim_spaces');\n    let ssid_value = ssid_input.value;\n    if (!trim_space || trim_space.checked) {\n\tssid_value = ssid_value.trim();\n    }\n    let li_entries = document.querySelectorAll('li');\n    for (let li_entry of li_entries) {\n\tlet clickssid = li_entry.querySelector('.clickssid');\n\tif (!clickssid) {\n\t    continue;\n\t}\n\tif (clickssid.textContent === ssid_value) {\n\t    console.log('matched!');\n\t    li_entry.classList.add('matched');\n\t} else {\n\t    li_entry.classList.remove('matched');\n\t}\n    }\n}\n\n\nfunction password_focused(event) {\n    let connect_button = document.querySelector('#connect');\n    connect_button.scrollIntoView(false);\n}\n\n\nfunction click_network(event) {\n    let network_li = event.target.parentElement;  // FIXME breaks if there's any li element padding, or li children go deeper than one level\n    let clickssid = network_li.querySelector('.clickssid');\n    let ssid_input = document.querySelector('#ssid');\n    let password_input = document.querySelector('#password');\n    ssid_input.value = clickssid.textContent;\n    ssid_changed();\n    password.value = '';\n    password_input.focus();\n}\n\n\nfunction show_nomatch_panel() {\n    document.body.classList.add('shownomatchpanel');\n}\n\n\nfunction show_info_panel() {\n    document.body.classList.add('showinfopanel');\n    let local_ip_address = document.querySelector('#local_ip_address');\n    if (last_status && last_status.ip_address) {\n\tlocal_ip_address.textContent = last_status.ip_address;\n    } else {\n\tlocal_ip_address.textContent = '➖';\n    }\n    let rover_ip_address = document.querySelector('#rover_ip_address');\n    if (last_status && last_status.rover_ip_address) {\n\trover_ip_address.textContent = last_status.rover_ip_address;\n    } else {\n\trover_ip_address.textContent = '➖';\n    }\n}\n\n\nfunction dismiss_all_panels() {\n    document.body.classList.remove('showinfopanel');\n    document.body.classList.remove('shownomatchpanel');\n}\n\n\nasync function init() {\n    //if ('serviceWorker' in navigator) {\n    //\tconsole.log('CLIENT: service worker registration in progress.');\n    //\tnavigator.serviceWorker.register('/service-worker.js').then(function() {\n    //\t    console.log('CLIENT: service worker registration complete.');\n    //\t}, function() {\n    //\t    console.log('CLIENT: service worker registration failure.');\n    //\t});\n    //} else {\n    //\tconsole.log('CLIENT: service worker is not supported.');\n    //}\n\n    //reset_scroll('#wifi_section');\n    reset_scroll('#sectionholder');\n\n    let wifi_form = document.querySelector('#connect_wifi_form');\n    wifi_form.addEventListener('submit', connect_wifi);\n\n    let ssid_input = document.querySelector('#ssid');\n    let password_input = document.querySelector('#password');\n    ssid_input.addEventListener('input', ssid_changed);\n    password_input.addEventListener('focus', password_focused);\n\n    let clickinfo = document.querySelector('#clickinfo');\n    clickinfo.addEventListener('click', show_info_panel);\n    let dismiss_buttons = document.querySelectorAll('#dismiss');\n    for (let dismiss_button of dismiss_buttons) {\n\tdismiss_button.addEventListener('click', dismiss_all_panels);\n    }\n\n    monitorStatus();\n    monitorScan();\n    //monitorSignal();\n}\n\n\nwindow.client.init = init;\nwindow.client.cancel_connecting = cancel_connecting;\nwindow.client.disconnect_wifi = disconnect_wifi;\nwindow.client.click_network = click_network;\nwindow.client.toggle_password_visibility = toggle_password_visibility;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}